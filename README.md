# Оптимизация хеш-функций
## Введение
Хеш-таблицы часто применаются в базах данных и компиляторах, поэтому важно выбрать хорошие хеш-функции с малым количеством коллизий и ускорить выполнение этих функций.
Работа состоит из двух частей: в первой части проводится анализ ряда хеш-функций на равномерность распределения, 
а во второй проводится оптимизация одной хеш-функции несколькими способами.

## Часть 1. Анализ равномерности распределения.

### 1.1. Теоретические сведения.
Вспомним основные теоретические сведения про хеш-таблицы и хеш-функции.
> Хеш-таблица - это структура данных, хранящая пары (ключ, значение) и позволяющая быстро осуществлять операции добавления пары, удаления пары и поиска пары по ключу.

В этой работе для простоты ключ пары совпадал со значением и представлял собой строку, состояющую из символов ASCII-таблицы.

> Хеш-функция - это функция, отображающая данные в целые числа.

Рассмотрим закрытое хеширование методом цепочек. Тогда в нашем примере хеш-таблица - это массив списков строк. 
Обозначим хеш-функцию как $h(k)$. В нашем примере функция $h(k)$ отображает строки в индексы массива.
Пусть $h(str_i) = v$, тогда строку $str_i$ нужно добавить в список, находящийся в массиве по индексу $v$ (см. рис.).

![Hash table](extra/hash_table.png)

### 1.2. Примеры хеш-функций.
В первой части работы рассмотрим неколько хеш-функций:
1. $h = const(k)$. Эта функция всегда возвращает $1$.
2. $h = first(k)$. Эта функция возвращает число, соответствующее ASCII-коду первого символа строки, взятое по модулю длины хеш-таблицы.
3. $h = len(k)$. Эта функция возвращает длину строки, взятую по модулю длины хеш-таблицы.
4. $h = sum(k)$. Эта функция возвращает сумму чисел, соответствующих ASCII-кодам символов строки, взятую по модулю длины хеш-таблицы.
5. $h = rotl(k)$. Обозначим $rol(c)$ - циклический сдвиг битов числа, соответствующего ASCII-коду символа $c$, влево на $1$, $\wedge$ - исключающее побитовое ИЛИ,
$k[i]$ - число, соответствующее ASCII-коду i-го символа строки $k$, $j$ - индекс последнего символа строки $k$.
Пусть $H_{i + 1} = rol(H_i) \wedge  k[i]$, $H_0 = 0$. Тогда функция возвращает $H_j$.
6. $h = rotr(k)$. Эта функция производит те же операции, что и $rotl(k)$, но производит циклический сдвиг вправо, а не влево.

### 1.3. Методика измерений.
Для анализа равномерности распределения построим хеш-таблицу небольшого размера и выполним хеширование большого количества строк. В этой работе 
